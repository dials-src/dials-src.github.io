


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>dials.algorithms.scaling &#8212; DIALS  documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/button.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/button.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/button.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/button.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/button.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/button.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/button.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/button.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/button.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/button.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/button.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/dials-styles.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../../about.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="dials.algorithms.spot_finding" href="dials.algorithms.spot_finding.html" />
    <link rel="prev" title="dials.algorithms.refinement" href="dials.algorithms.refinement.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="logoheader container">
  <a href="../../../index.html">
  <img class="logoheader" alt="DIALS" src="../../../_static/dials_header.png" />
  </a>
  </div>
  

  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-dials.algorithms.scaling">
<span id="dials-algorithms-scaling"></span><h1>dials.algorithms.scaling<a class="headerlink" href="#module-dials.algorithms.scaling" title="Permalink to this headline">¶</a></h1>
<p>This module provides datastructures and algorithms for scaling.</p>
<div class="section" id="module-dials.algorithms.scaling.model.model">
<span id="model-model"></span><h2>model.model<a class="headerlink" href="#module-dials.algorithms.scaling.model.model" title="Permalink to this headline">¶</a></h2>
<p>Definitions of scaling models.</p>
<p>A scaling model is a collection of scaling model components with appropriate
methods to define how these are composed into one model.</p>
<dl class="class">
<dt id="dials.algorithms.scaling.model.model.ArrayScalingModel">
<em class="property">class </em><code class="descclassname">dials.algorithms.scaling.model.model.</code><code class="descname">ArrayScalingModel</code><span class="sig-paren">(</span><em>parameters_dict</em>, <em>configdict</em>, <em>is_scaled=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ArrayScalingModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ArrayScalingModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dials.algorithms.scaling.model.model.ScalingModelBase" title="dials.algorithms.scaling.model.model.ScalingModelBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">dials.algorithms.scaling.model.model.ScalingModelBase</span></code></a></p>
<p>A scaling model for an array-based parameterisation.</p>
<dl class="method">
<dt id="dials.algorithms.scaling.model.model.ArrayScalingModel.configure_components">
<code class="descname">configure_components</code><span class="sig-paren">(</span><em>reflection_table</em>, <em>experiment</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ArrayScalingModel.configure_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ArrayScalingModel.configure_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the required reflection table data to the model components.</p>
</dd></dl>

<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.ArrayScalingModel.consecutive_refinement_order">
<code class="descname">consecutive_refinement_order</code><a class="headerlink" href="#dials.algorithms.scaling.model.model.ArrayScalingModel.consecutive_refinement_order" title="Permalink to this definition">¶</a></dt>
<dd><p>a nested list of component names to indicate scaling order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="dials.algorithms.scaling.model.model.ArrayScalingModel.from_data">
<em class="property">classmethod </em><code class="descname">from_data</code><span class="sig-paren">(</span><em>params</em>, <em>experiment</em>, <em>reflection_table</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ArrayScalingModel.from_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ArrayScalingModel.from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>create an array-based scaling model.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dials.algorithms.scaling.model.model.ArrayScalingModel.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ArrayScalingModel.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ArrayScalingModel.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an <a class="reference internal" href="#dials.algorithms.scaling.model.model.ArrayScalingModel" title="dials.algorithms.scaling.model.model.ArrayScalingModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ArrayScalingModel</span></code></a> from a dictionary.</p>
</dd></dl>

<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.ArrayScalingModel.id_">
<code class="descname">id_</code><em class="property"> = 'array'</em><a class="headerlink" href="#dials.algorithms.scaling.model.model.ArrayScalingModel.id_" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dials.algorithms.scaling.model.model.ArrayScalingModel.limit_image_range">
<code class="descname">limit_image_range</code><span class="sig-paren">(</span><em>new_image_range</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ArrayScalingModel.limit_image_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ArrayScalingModel.limit_image_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the model to be suitable for a reduced image range.</p>
<p>For this model, this involves determining whether the number of parameters
should be reduced and may reduce the number of parameters in the absorption
and decay components.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_image_range</strong> (<em>tuple</em>) – The (start, end) of the new image range.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.ArrayScalingModel.phil_scope">
<code class="descname">phil_scope</code><em class="property"> = &lt;libtbx.phil.scope object&gt;</em><a class="headerlink" href="#dials.algorithms.scaling.model.model.ArrayScalingModel.phil_scope" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="dials.algorithms.scaling.model.model.KBScalingModel">
<em class="property">class </em><code class="descclassname">dials.algorithms.scaling.model.model.</code><code class="descname">KBScalingModel</code><span class="sig-paren">(</span><em>parameters_dict</em>, <em>configdict</em>, <em>is_scaled=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#KBScalingModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.KBScalingModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dials.algorithms.scaling.model.model.ScalingModelBase" title="dials.algorithms.scaling.model.model.ScalingModelBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">dials.algorithms.scaling.model.model.ScalingModelBase</span></code></a></p>
<p>A scaling model for a KB parameterisation.</p>
<dl class="method">
<dt id="dials.algorithms.scaling.model.model.KBScalingModel.configure_components">
<code class="descname">configure_components</code><span class="sig-paren">(</span><em>reflection_table</em>, <em>experiment</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#KBScalingModel.configure_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.KBScalingModel.configure_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the required reflection table data to the model components.</p>
</dd></dl>

<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.KBScalingModel.consecutive_refinement_order">
<code class="descname">consecutive_refinement_order</code><a class="headerlink" href="#dials.algorithms.scaling.model.model.KBScalingModel.consecutive_refinement_order" title="Permalink to this definition">¶</a></dt>
<dd><p>a nested list of component names to indicate scaling order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="dials.algorithms.scaling.model.model.KBScalingModel.from_data">
<em class="property">classmethod </em><code class="descname">from_data</code><span class="sig-paren">(</span><em>params</em>, <em>experiment</em>, <em>reflection_table</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#KBScalingModel.from_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.KBScalingModel.from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the <a class="reference internal" href="#dials.algorithms.scaling.model.model.KBScalingModel" title="dials.algorithms.scaling.model.model.KBScalingModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">KBScalingModel</span></code></a> from data.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dials.algorithms.scaling.model.model.KBScalingModel.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#KBScalingModel.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.KBScalingModel.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an <a class="reference internal" href="#dials.algorithms.scaling.model.model.KBScalingModel" title="dials.algorithms.scaling.model.model.KBScalingModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">KBScalingModel</span></code></a> from a dictionary.</p>
</dd></dl>

<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.KBScalingModel.id_">
<code class="descname">id_</code><em class="property"> = 'KB'</em><a class="headerlink" href="#dials.algorithms.scaling.model.model.KBScalingModel.id_" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.KBScalingModel.phil_scope">
<code class="descname">phil_scope</code><em class="property"> = &lt;libtbx.phil.scope object&gt;</em><a class="headerlink" href="#dials.algorithms.scaling.model.model.KBScalingModel.phil_scope" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="dials.algorithms.scaling.model.model.PhysicalScalingModel">
<em class="property">class </em><code class="descclassname">dials.algorithms.scaling.model.model.</code><code class="descname">PhysicalScalingModel</code><span class="sig-paren">(</span><em>parameters_dict</em>, <em>configdict</em>, <em>is_scaled=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#PhysicalScalingModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.PhysicalScalingModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dials.algorithms.scaling.model.model.ScalingModelBase" title="dials.algorithms.scaling.model.model.ScalingModelBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">dials.algorithms.scaling.model.model.ScalingModelBase</span></code></a></p>
<p>A scaling model for a physical parameterisation.</p>
<dl class="method">
<dt id="dials.algorithms.scaling.model.model.PhysicalScalingModel.configure_components">
<code class="descname">configure_components</code><span class="sig-paren">(</span><em>reflection_table</em>, <em>experiment</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#PhysicalScalingModel.configure_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.PhysicalScalingModel.configure_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the required reflection table data to the model components.</p>
</dd></dl>

<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.PhysicalScalingModel.consecutive_refinement_order">
<code class="descname">consecutive_refinement_order</code><a class="headerlink" href="#dials.algorithms.scaling.model.model.PhysicalScalingModel.consecutive_refinement_order" title="Permalink to this definition">¶</a></dt>
<dd><p>a nested list of component names to indicate scaling order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="dials.algorithms.scaling.model.model.PhysicalScalingModel.from_data">
<em class="property">classmethod </em><code class="descname">from_data</code><span class="sig-paren">(</span><em>params</em>, <em>experiment</em>, <em>reflection_table</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#PhysicalScalingModel.from_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.PhysicalScalingModel.from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the scaling model defined by the params.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dials.algorithms.scaling.model.model.PhysicalScalingModel.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#PhysicalScalingModel.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.PhysicalScalingModel.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <a class="reference internal" href="#dials.algorithms.scaling.model.model.PhysicalScalingModel" title="dials.algorithms.scaling.model.model.PhysicalScalingModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PhysicalScalingModel</span></code></a> from a dictionary.</p>
</dd></dl>

<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.PhysicalScalingModel.id_">
<code class="descname">id_</code><em class="property"> = 'physical'</em><a class="headerlink" href="#dials.algorithms.scaling.model.model.PhysicalScalingModel.id_" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dials.algorithms.scaling.model.model.PhysicalScalingModel.limit_image_range">
<code class="descname">limit_image_range</code><span class="sig-paren">(</span><em>new_image_range</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#PhysicalScalingModel.limit_image_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.PhysicalScalingModel.limit_image_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the model to be suitable for a reduced image range.</p>
<p>For this model, this involves determining whether the number of parameters
should be reduced and may reduce the number of parameters in the scale and
decay components.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_image_range</strong> (<em>tuple</em>) – The (start, end) of the new image range.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dials.algorithms.scaling.model.model.PhysicalScalingModel.normalise_components">
<code class="descname">normalise_components</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#PhysicalScalingModel.normalise_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.PhysicalScalingModel.normalise_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Do an invariant rescale of the scale at t=0 to one and the max B to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.PhysicalScalingModel.phil_scope">
<code class="descname">phil_scope</code><em class="property"> = &lt;libtbx.phil.scope object&gt;</em><a class="headerlink" href="#dials.algorithms.scaling.model.model.PhysicalScalingModel.phil_scope" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase">
<em class="property">class </em><code class="descclassname">dials.algorithms.scaling.model.model.</code><code class="descname">ScalingModelBase</code><span class="sig-paren">(</span><em>configdict</em>, <em>is_scaled=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ScalingModelBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Abstract base class for scaling models.</p>
<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.components">
<code class="descname">components</code><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.components" title="Permalink to this definition">¶</a></dt>
<dd><p>a dictionary of the model components.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.configdict">
<code class="descname">configdict</code><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.configdict" title="Permalink to this definition">¶</a></dt>
<dd><p>a dictionary of the model configuration parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.configure_components">
<code class="descname">configure_components</code><span class="sig-paren">(</span><em>reflection_table</em>, <em>experiment</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ScalingModelBase.configure_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.configure_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the required reflection table data to the model components.</p>
</dd></dl>

<dl class="method">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.consecutive_refinement_order">
<code class="descname">consecutive_refinement_order</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ScalingModelBase.consecutive_refinement_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.consecutive_refinement_order" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>: a nested list of component names.</p>
<p>This list indicates to the scaler the order to perform scaling in
consecutive scaling mode (command line option concurrent=0).
e.g. [[‘scale’, ‘decay’], [‘absorption’]] would cause the first cycle to
refine scale and decay, and then absorption in a subsequent cycle.</p>
</dd></dl>

<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.error_model">
<code class="descname">error_model</code><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.error_model" title="Permalink to this definition">¶</a></dt>
<dd><p>The error model associated with the scaling model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="#dials.algorithms.scaling.model.model.ScalingModelBase.error_model" title="dials.algorithms.scaling.model.model.ScalingModelBase.error_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">error_model</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.from_data">
<em class="property">classmethod </em><code class="descname">from_data</code><span class="sig-paren">(</span><em>params</em>, <em>experiment</em>, <em>reflection_table</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ScalingModelBase.from_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the model from input data.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ScalingModelBase.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a scaling model from a dictionary.</p>
</dd></dl>

<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.id_">
<code class="descname">id_</code><em class="property"> = None</em><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.id_" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.is_scaled">
<code class="descname">is_scaled</code><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.is_scaled" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicte whether this model has previously been refined.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.limit_image_range">
<code class="descname">limit_image_range</code><span class="sig-paren">(</span><em>new_image_range</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ScalingModelBase.limit_image_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.limit_image_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the model if necessary due to reducing the image range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_image_range</strong> (<em>tuple</em>) – The (start, end) of the new image range.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.n_params">
<code class="descname">n_params</code><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.n_params" title="Permalink to this definition">¶</a></dt>
<dd><p>a dictionary of the model components.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.normalise_components">
<code class="descname">normalise_components</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ScalingModelBase.normalise_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.normalise_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Optionally define a normalisation of the parameters after scaling.</p>
</dd></dl>

<dl class="method">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.record_intensity_combination_Imid">
<code class="descname">record_intensity_combination_Imid</code><span class="sig-paren">(</span><em>Imid</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ScalingModelBase.record_intensity_combination_Imid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.record_intensity_combination_Imid" title="Permalink to this definition">¶</a></dt>
<dd><p>Record the intensity combination Imid value.</p>
</dd></dl>

<dl class="method">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.set_error_model">
<code class="descname">set_error_model</code><span class="sig-paren">(</span><em>error_model</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ScalingModelBase.set_error_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.set_error_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Associate an error model with the dataset.</p>
</dd></dl>

<dl class="method">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.set_scaling_model_as_scaled">
<code class="descname">set_scaling_model_as_scaled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ScalingModelBase.set_scaling_model_as_scaled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.set_scaling_model_as_scaled" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the boolean ‘is_scaled’ flag as True.</p>
</dd></dl>

<dl class="method">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.set_scaling_model_as_unscaled">
<code class="descname">set_scaling_model_as_unscaled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ScalingModelBase.set_scaling_model_as_unscaled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.set_scaling_model_as_unscaled" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the boolean ‘is_scaled’ flag as False.</p>
</dd></dl>

<dl class="method">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.set_valid_image_range">
<code class="descname">set_valid_image_range</code><span class="sig-paren">(</span><em>image_range</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ScalingModelBase.set_valid_image_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.set_valid_image_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the valid image range for the model in the <a class="reference internal" href="#dials.algorithms.scaling.model.model.ScalingModelBase.configdict" title="dials.algorithms.scaling.model.model.ScalingModelBase.configdict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">configdict</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.show">
<code class="descname">show</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ScalingModelBase.show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a representation of the scaling model.</p>
</dd></dl>

<dl class="method">
<dt id="dials.algorithms.scaling.model.model.ScalingModelBase.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#ScalingModelBase.to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.ScalingModelBase.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize the model to a dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary representation of the model.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="dials.algorithms.scaling.model.model.calc_n_param_from_bins">
<code class="descclassname">dials.algorithms.scaling.model.model.</code><code class="descname">calc_n_param_from_bins</code><span class="sig-paren">(</span><em>value_min</em>, <em>value_max</em>, <em>n_bins</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#calc_n_param_from_bins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.calc_n_param_from_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the correct number of bins for initialising the gaussian
smoothers.</p>
</dd></dl>

<dl class="function">
<dt id="dials.algorithms.scaling.model.model.calculate_new_offset">
<code class="descclassname">dials.algorithms.scaling.model.model.</code><code class="descname">calculate_new_offset</code><span class="sig-paren">(</span><em>current_image_0</em>, <em>new_image_0</em>, <em>new_norm_fac</em>, <em>n_old_param</em>, <em>n_new_param</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#calculate_new_offset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.calculate_new_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the parameter offset for the new image range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>An offset to apply when selecting the new parameters from the</dt>
<dd>existing parameters.</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="../array_family/index.html#dials.array_family.flex.int" title="dials.array_family.flex.int">int</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dials.algorithms.scaling.model.model.initialise_smooth_input">
<code class="descclassname">dials.algorithms.scaling.model.model.</code><code class="descname">initialise_smooth_input</code><span class="sig-paren">(</span><em>osc_range</em>, <em>one_osc_width</em>, <em>interval</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/model/model.html#initialise_smooth_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.model.model.initialise_smooth_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the required smoother parameters.</p>
<p>Using information about the sweep and the chosen parameterisation
interval, the required parameters for the smoother are determined.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>osc_range</strong> (<em>tuple</em>) – The (start, stop) of an oscillation in degrees.</li>
<li><strong>one_osc_width</strong> (<a class="reference internal" href="../array_family/index.html#dials.array_family.flex.float" title="dials.array_family.flex.float"><em>float</em></a>) – The oscillation width of a single image in degrees.</li>
<li><strong>interval</strong> (<a class="reference internal" href="../array_family/index.html#dials.array_family.flex.float" title="dials.array_family.flex.float"><em>float</em></a>) – The required maximum separation between parameters
in degrees.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>3-element tuple containing;</dt>
<dd><p class="first last">n_params (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>): The number of parameters to use.
norm_fac (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>): The degrees to parameters space normalisation factor.
interval (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>): The actual interval in degrees between the parameters.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-dials.algorithms.scaling.outlier_rejection">
<span id="outlier-rejection"></span><h2>outlier_rejection<a class="headerlink" href="#module-dials.algorithms.scaling.outlier_rejection" title="Permalink to this headline">¶</a></h2>
<p>Definitions of outlier rejection algorithms.</p>
<p>These algorithms use the Ih_table datastructures to perform calculations
in groups of symmetry equivalent reflections. Two functions are provided,
reject_outliers, to reject outlier and set flags given a reflection table
and experiment object, and determine_outlier_index_arrays, which takes an
Ih_table and returns flex.size_t index arrays of the outlier positions.</p>
<dl class="class">
<dt id="dials.algorithms.scaling.outlier_rejection.NormDevOutlierRejection">
<em class="property">class </em><code class="descclassname">dials.algorithms.scaling.outlier_rejection.</code><code class="descname">NormDevOutlierRejection</code><span class="sig-paren">(</span><em>Ih_table</em>, <em>zmax</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/outlier_rejection.html#NormDevOutlierRejection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.outlier_rejection.NormDevOutlierRejection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase" title="dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase</span></code></a></p>
<p>Algorithm using normalised deviations from the weighted intensity means.</p>
<p>In this case, the weighted mean is calculated from all reflections in
the symmetry group excluding the test reflection.</p>
</dd></dl>

<dl class="class">
<dt id="dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase">
<em class="property">class </em><code class="descclassname">dials.algorithms.scaling.outlier_rejection.</code><code class="descname">OutlierRejectionBase</code><span class="sig-paren">(</span><em>Ih_table</em>, <em>zmax</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/outlier_rejection.html#OutlierRejectionBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for outlier rejection algorithms using an IhTable datastructure.</p>
<p>Subclasses must implement the _do_outlier_rejection method, which must
add the indices of outliers to the _outlier_indices attribute. The algorithms
are run upon initialisation and result in the population of the
<a class="reference internal" href="#dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase.final_outlier_arrays" title="dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase.final_outlier_arrays"><code class="xref py py-obj docutils literal notranslate"><span class="pre">final_outlier_arrays</span></code></a>.</p>
<dl class="attribute">
<dt id="dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase.final_outlier_arrays">
<code class="descname">final_outlier_arrays</code><a class="headerlink" href="#dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase.final_outlier_arrays" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of flex.size_t arrays of outlier
indices w.r.t. the order of the initial reflection tables used to
create the Ih_table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dials.algorithms.scaling.outlier_rejection.SimpleNormDevOutlierRejection">
<em class="property">class </em><code class="descclassname">dials.algorithms.scaling.outlier_rejection.</code><code class="descname">SimpleNormDevOutlierRejection</code><span class="sig-paren">(</span><em>Ih_table</em>, <em>zmax</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/outlier_rejection.html#SimpleNormDevOutlierRejection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.outlier_rejection.SimpleNormDevOutlierRejection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase" title="dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase</span></code></a></p>
<p>Algorithm using normalised deviations from the weighted intensity means.</p>
<p>In this case, the weighted mean is calculated from all reflections in
the symmetry group excluding the test reflection.</p>
</dd></dl>

<dl class="class">
<dt id="dials.algorithms.scaling.outlier_rejection.TargetedOutlierRejection">
<em class="property">class </em><code class="descclassname">dials.algorithms.scaling.outlier_rejection.</code><code class="descname">TargetedOutlierRejection</code><span class="sig-paren">(</span><em>Ih_table</em>, <em>zmax</em>, <em>target</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/outlier_rejection.html#TargetedOutlierRejection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.outlier_rejection.TargetedOutlierRejection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase" title="dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">dials.algorithms.scaling.outlier_rejection.OutlierRejectionBase</span></code></a></p>
<p>Implementation of an outlier rejection algorithm against a target.</p>
<p>This algorithm requires a target Ih_table in addition to an Ih_table
for the dataset under investigation. Normalised deviations are
calculated from the intensity values in the target table.</p>
</dd></dl>

<dl class="function">
<dt id="dials.algorithms.scaling.outlier_rejection.determine_outlier_index_arrays">
<code class="descclassname">dials.algorithms.scaling.outlier_rejection.</code><code class="descname">determine_outlier_index_arrays</code><span class="sig-paren">(</span><em>Ih_table</em>, <em>method='standard'</em>, <em>zmax=6.0</em>, <em>target=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/outlier_rejection.html#determine_outlier_index_arrays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.outlier_rejection.determine_outlier_index_arrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Run an outlier algorithm and return the outlier indices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Ih_table</strong> – A dials.algorithms.scaling.Ih_table.IhTable.</li>
<li><strong>method</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – Name (alias) of outlier rejection algorithm to use. If
method=target, then the optional argument target must also
be specified. Implemented methods; standard, simple, target.</li>
<li><strong>zmax</strong> (<a class="reference internal" href="../array_family/index.html#dials.array_family.flex.float" title="dials.array_family.flex.float"><em>float</em></a>) – Normalised deviation threshold for classifying an outlier.</li>
<li><strong>target</strong> (<em>Optional</em><em>[</em><em>IhTable</em><em>]</em>) – An IhTable to use to obtain target Ih for
outlier rejectiob, if method=target.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>A list of flex.size_t arrays, with one</dt>
<dd><p class="first last">array per dataset that was used to create the Ih_table. Importantly,
the indices are the indices of the reflections in the initial
reflection table used to create the Ih_table, not the indices of the
data in the Ih_table.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">outlier_index_arrays (list)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> – if an invalid choice is made for the method.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dials.algorithms.scaling.outlier_rejection.reject_outliers">
<code class="descclassname">dials.algorithms.scaling.outlier_rejection.</code><code class="descname">reject_outliers</code><span class="sig-paren">(</span><em>reflection_table</em>, <em>experiment</em>, <em>method='standard'</em>, <em>zmax=6.0</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dials/algorithms/scaling/outlier_rejection.html#reject_outliers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dials.algorithms.scaling.outlier_rejection.reject_outliers" title="Permalink to this definition">¶</a></dt>
<dd><p>Run an outlier algorithm on symmetry-equivalent intensities.</p>
<p>This method runs an intensity-based outlier rejection algorithm, comparing
the deviations from the weighted mean in groups of symmetry equivalent
reflections. The outliers are determined and the outlier_in_scaling flag
is set in the reflection table.</p>
<p>The values intensity and variance must be set in the reflection table;
these should be corrected but unscaled values, as an inverse_scale_factor
will be applied during outlier rejection if this is present in the reflection
table. The reflection table should also be prefiltered (e.g. not-integrated
reflections should not be present) as no further filtering is done on the
input table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reflection_table</strong> – A reflection table.</li>
<li><strong>experiment</strong> – A single experiment object.</li>
<li><strong>method</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – Name (alias) of outlier rejection algorithm to use.</li>
<li><strong>zmax</strong> (<a class="reference internal" href="../array_family/index.html#dials.array_family.flex.float" title="dials.array_family.flex.float"><em>float</em></a>) – Normalised deviation threshold for classifying an outlier.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The input table with the outlier_in_scaling flag set.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../array_family/index.html#dials.array_family.flex.reflection_table" title="dials.array_family.flex.reflection_table">reflection_table</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><!--<h3>Navigation</h3>-->
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto.html">How-to</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../workshops/index.html">Workshops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../links.html">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../license.html">License</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer container">
  <a href="https://www.diamond.ac.uk/"><img class="logofooter" alt="Diamond" src="../../../_static/diamond_logo.png" /></a>
  <a href="https://www.ccp4.ac.uk/"><img class="logofooter" alt="CCP4" src="../../../_static/CCP4-logo-plain.png" /></a>
  <a href="https://www.lbl.gov/"><img class="logofooter" alt="LBL" src="../../../_static/LBL-logo-wide.jpeg" /></a>
  <a href="https://www.stfc.ac.uk/"><img class="logofooter" alt="STFC" src="../../../_static/STFC_logo.png" /></a>
  </div>

  <script type="text/javascript">
     $(document).ready(function() {
         $(".toggle > *").hide();
         $(".toggle .header").show();
         $(".toggle .header").click(function() {
             $(this).parent().children().not(".header").toggle(400);
             $(this).parent().children(".header").toggleClass("open");
         })
     });
  </script>
  
    <div class="footer">
      &copy;2019, Diamond Light Source, Lawrence Berkeley National Laboratory and STFC.
      
    </div>

    

    

  </body>
</html>