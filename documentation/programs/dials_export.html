
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dials.export &mdash; DIALS  documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/button.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/button.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/button.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/button.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/button.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/button.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/button.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/button.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/button.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/button.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/dials-styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/dials_icon.png"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="top" title="DIALS  documentation" href="../../index.html" />
    <link rel="up" title="Program documentation" href="index.html" />
    <link rel="next" title="idials" href="idials.html" />
    <link rel="prev" title="dials.integrate" href="dials_integrate.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  <div class="logoheader container">
  <a href="../../index.html">
  <img class="logoheader" alt="DIALS" src="../../_static/dials_header.png" />
  </a>
  </div>
  


  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="dials-export">
<h1>dials.export<a class="headerlink" href="#dials-export" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This program is used to export the results of dials processing in various
formats.</p>
<p>The output formats currently supported are:</p>
<p>MTZ format exports the files as an unmerged mtz file, ready for input to
downstream programs such as Pointless and Aimless. The required input is an
experiments.json file and an integrated.pickle file.</p>
<p>NXS format exports the files as an NXmx file. The required input is an
experiments.json file and an integrated.pickle file.</p>
<p>MOSFLM format exports the files as an index.mat mosflm-format matrix file and a
mosflm.in file containing basic instructions for input to mosflm. The required
input is an experiments.json file.</p>
<p>XDS format exports an experiments.json file as XDS.INP and XPARM.XDS files. If a
reflection pickle is given it will be exported as a SPOT.XDS file.</p>
<p>Examples:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="c"># Export to mtz</span>
<span class="n">dials</span><span class="o">.</span><span class="n">export</span> <span class="n">experiments</span><span class="o">.</span><span class="n">json</span> <span class="n">integrated</span><span class="o">.</span><span class="n">pickle</span>
<span class="n">dials</span><span class="o">.</span><span class="n">export</span> <span class="n">experiments</span><span class="o">.</span><span class="n">json</span> <span class="n">integrated</span><span class="o">.</span><span class="n">pickle</span> <span class="n">mtz</span><span class="o">.</span><span class="n">hklout</span><span class="o">=</span><span class="n">integrated</span><span class="o">.</span><span class="n">mtz</span>

<span class="c"># Export to nexus</span>
<span class="n">dials</span><span class="o">.</span><span class="n">export</span> <span class="n">experiments</span><span class="o">.</span><span class="n">json</span> <span class="n">integrated</span><span class="o">.</span><span class="n">pickle</span> <span class="nb">format</span><span class="o">=</span><span class="n">nxs</span>
<span class="n">dials</span><span class="o">.</span><span class="n">export</span> <span class="n">experiments</span><span class="o">.</span><span class="n">json</span> <span class="n">integrated</span><span class="o">.</span><span class="n">pickle</span> <span class="nb">format</span><span class="o">=</span><span class="n">nxs</span> <span class="n">nxs</span><span class="o">.</span><span class="n">hklout</span><span class="o">=</span><span class="n">integrated</span><span class="o">.</span><span class="n">nxs</span>

<span class="c"># Export to mosflm</span>
<span class="n">dials</span><span class="o">.</span><span class="n">export</span> <span class="n">experiments</span><span class="o">.</span><span class="n">json</span> <span class="n">integrated</span><span class="o">.</span><span class="n">pickle</span> <span class="nb">format</span><span class="o">=</span><span class="n">mosflm</span>

<span class="c"># Export to xds</span>
<span class="n">dials</span><span class="o">.</span><span class="n">export</span> <span class="n">strong</span><span class="o">.</span><span class="n">pickle</span> <span class="nb">format</span><span class="o">=</span><span class="n">xds</span>
<span class="n">dials</span><span class="o">.</span><span class="n">export</span> <span class="n">indexed</span><span class="o">.</span><span class="n">pickle</span> <span class="nb">format</span><span class="o">=</span><span class="n">xds</span>
<span class="n">dials</span><span class="o">.</span><span class="n">export</span> <span class="n">experiments</span><span class="o">.</span><span class="n">json</span> <span class="nb">format</span><span class="o">=</span><span class="n">xds</span>
<span class="n">dials</span><span class="o">.</span><span class="n">export</span> <span class="n">experiments</span><span class="o">.</span><span class="n">json</span> <span class="n">indexed</span><span class="o">.</span><span class="n">pickle</span> <span class="nb">format</span><span class="o">=</span><span class="n">xds</span>
</pre></div>
</div>
</div>
<div class="section" id="basic-parameters">
<h2>Basic parameters<a class="headerlink" href="#basic-parameters" title="Permalink to this headline">¶</a></h2>
<pre class="literal-block">
format = *mtz hkl nxs mosflm xds best xds_ascii
summation = False
debug = False
mtz {
  ignore_panels = False
  include_partials = False
  keep_partials = False
  min_isigi = -5
  force_static_model = False
  hklout = integrated.mtz
}
hklf4 {
  hklout = integrated.sad
  run = 0
}
xds_ascii {
  hklout = DIALS.HKL
}
nxs {
  hklout = integrated.nxs
}
mosflm {
  directory = mosflm
}
xds {
  directory = xds
}
best {
  prefix = best
  n_bins = 100
}
output {
  log = dials.export.log
  debug_log = dials.export.debug.log
}

</pre>
</div>
<div class="section" id="full-parameter-definitions">
<h2>Full parameter definitions<a class="headerlink" href="#full-parameter-definitions" title="Permalink to this headline">¶</a></h2>
<pre class="literal-block">
format = *mtz hkl nxs mosflm xds best xds_ascii
  .help = &quot;The output file format&quot;
  .type = choice
summation = False
  .help = &quot;Output summation integrated data (default profile fitted)&quot;
  .type = bool
debug = False
  .help = &quot;Output additional debugging information&quot;
  .type = bool
mtz {
  ignore_panels = False
    .help = &quot;Ignore multiple panels / detectors in output&quot;
    .type = bool
  include_partials = False
    .help = &quot;Include partial reflections (scaled) in output&quot;
    .type = bool
  keep_partials = False
    .help = &quot;Keep low partiality reflections&quot;
    .type = bool
  min_isigi = -5
    .help = &quot;Exclude reflections with unfeasible values of I/Sig(I)&quot;
    .type = float
  force_static_model = False
    .help = &quot;Force program to use static model even if scan varying is present&quot;
    .type = bool
  hklout = integrated.mtz
    .help = &quot;The output MTZ file&quot;
    .type = path
}
hklf4 {
  hklout = integrated.sad
    .help = &quot;The output raw hkl file&quot;
    .type = path
  run = 0
    .help = &quot;Batch number / run number for hkl file&quot;
    .type = int
}
xds_ascii {
  hklout = DIALS.HKL
    .help = &quot;The output raw hkl file&quot;
    .type = path
}
nxs {
  hklout = integrated.nxs
    .help = &quot;The output Nexus file&quot;
    .type = path
}
mosflm {
  directory = mosflm
    .help = &quot;The output directory for mosflm output&quot;
    .type = path
}
xds {
  directory = xds
    .help = &quot;The output directory for xds output&quot;
    .type = path
}
best {
  prefix = best
    .help = &quot;The prefix for the output file names for best (.hkl, .dat and&quot;
            &quot;.par files)&quot;
    .type = str
  n_bins = 100
    .help = &quot;Number of resolution bins for background estimation&quot;
    .type = int(value_min=1)
}
output {
  log = dials.export.log
    .help = &quot;The log filename&quot;
    .type = path
  debug_log = dials.export.debug.log
    .help = &quot;The debug log filename&quot;
    .type = path
}

</pre>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><!--<h3>Navigation</h3>-->
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../workshops.html">Workshops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../links.html">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer container">
  <a href="http://www.diamond.ac.uk/"><img class="logofooter" alt="Diamond" src="../../_static/diamond_logo.png" /></a>
  <a href="http://www.ccp4.ac.uk/"><img class="logofooter" alt="CCP4" src="../../_static/CCP4-logo-plain.png" /></a>
  <a href="http://www.lbl.gov/"><img class="logofooter" alt="LBL" src="../../_static/LBL-logo-wide.jpeg" /></a>
  <a href="https://www.stfc.ac.uk/"><img class="logofooter" alt="STFC" src="../../_static/STFC_logo.png" /></a>
  </div>

  <script type="text/javascript">
     $(document).ready(function() {
         $(".toggle > *").hide();
         $(".toggle .header").show();
         $(".toggle .header").click(function() {
             $(this).parent().children().not(".header").toggle(400);
             $(this).parent().children(".header").toggleClass("open");
         })
     });
  </script>
  
    <div class="footer">
      &copy;2015, Diamond Light Source, Lawrence Berkeley National Laboratory and STFC.
      
    </div>

    

    

  </body>
</html>