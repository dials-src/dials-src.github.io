
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dials.combine_experiments &mdash; DIALS  documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/button.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/button.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/button.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/button.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/dials-styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/dials_icon.png"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="top" title="DIALS  documentation" href="../../index.html" />
    <link rel="up" title="Program documentation" href="index.html" />
    <link rel="next" title="Conventions" href="../conventions.html" />
    <link rel="prev" title="dials.stereographic_projection" href="dials_stereographic_projection.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body>
  <div class="logoheader container">
  <a href="../../index.html">
  <img class="logoheader" alt="DIALS" src="../../_static/dials_header.png" />
  </a>
  </div>
  


  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="dials-combine-experiments">
<h1>dials.combine_experiments<a class="headerlink" href="#dials-combine-experiments" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Utility script to combine multiple reflections and experiments files into
one multi-experiment reflections and one experiments file. Experiments are
matched to reflections in the order they are provided as input.</p>
<p>Reference models can be chosen from any of the input experiments files. These
will replace all other models of that type in the output experiments file.
This is useful, for example, for combining mutiple experiments that should
differ only in their crystal models. No checks are made to ensure that a
reference model is a good replacement model.</p>
<p>Although only one reference model of each type is allowed, more complex
combinations of experiments can be created by repeat runs.</p>
<p>Examples:</p>
<div class="highlight-python"><div class="highlight"><pre>dials.combine_experiments experiments_0.json experiments_1.json \
  reflections_0.pickle reflections_1.pickle \
  reference_from_experiment.beam=0 \
  reference_from_experiment.detector=0
</pre></div>
</div>
</div>
<div class="section" id="basic-parameters">
<h2>Basic parameters<a class="headerlink" href="#basic-parameters" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre>reference_from_experiment {
  beam = None
  scan = None
  crystal = None
  goniometer = None
  detector = None
  average_detector = False
  average_hierarchy_level = None
}
output {
  experiments_filename = combined_experiments.json
  reflections_filename = combined_reflections.pickle
}
</pre></div>
</div>
</div>
<div class="section" id="full-parameter-definitions">
<h2>Full parameter definitions<a class="headerlink" href="#full-parameter-definitions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre>reference_from_experiment {
  beam = None
    .help = &quot;Take beam model from this experiment to overwrite all other beam&quot;
            &quot;models in the combined experiments&quot;
    .type = int(value_min=0)
  scan = None
    .help = &quot;Take scan model from this experiment to overwrite all other scan&quot;
            &quot;models in the combined experiments&quot;
    .type = int(value_min=0)
  crystal = None
    .help = &quot;Take crystal model from this experiment to overwrite all other&quot;
            &quot;crystal models in the combined experiments&quot;
    .type = int(value_min=0)
  goniometer = None
    .help = &quot;Take goniometer model from this experiment to overwrite all other&quot;
            &quot;goniometer models in the combined experiments&quot;
    .type = int(value_min=0)
  detector = None
    .help = &quot;Take detector model from this experiment to overwrite all other&quot;
            &quot;detector models in the combined experiments&quot;
    .type = int(value_min=0)
  average_detector = False
    .help = &quot;Create an average detector model from all the input detector&quot;
            &quot;models and use it as the reference. Not compatible with&quot;
            &quot;reference_from_experiment.detector&quot;
    .type = bool
  average_hierarchy_level = None
    .help = &quot;For hierarchical detectors, optionally provide a single level to&quot;
            &quot;do averaging at.&quot;
    .type = int(value_min=0)
}
output {
  experiments_filename = combined_experiments.json
    .help = &quot;The filename for combined experimental models&quot;
    .type = str
  reflections_filename = combined_reflections.pickle
    .help = &quot;The filename for combined reflections&quot;
    .type = str
}
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><!--<h3>Navigation</h3>-->
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../links.html">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer container">
  <a href="http://www.diamond.ac.uk/"><img class="logofooter" alt="Diamond" src="../../_static/diamond_logo.png" /></a>
  <a href="http://www.ccp4.ac.uk/"><img class="logofooter" alt="CCP4" src="../../_static/CCP4-logo-plain.png" /></a>
  <a href="http://www.lbl.gov/"><img class="logofooter" alt="LBL" src="../../_static/LBL-logo-wide.jpeg" /></a>
  <a href="https://www.stfc.ac.uk/"><img class="logofooter" alt="STFC" src="../../_static/STFC_logo.png" /></a>
  </div>

  <script type="text/javascript">
     $(document).ready(function() {
         $(".toggle > *").hide();
         $(".toggle .header").show();
         $(".toggle .header").click(function() {
             $(this).parent().children().not(".header").toggle(400);
             $(this).parent().children(".header").toggleClass("open");
         })
     });
  </script>
  
    <div class="footer">
      &copy;2015, Diamond Light Source, Lawrence Berkeley National Laboratory and STFC.
      
    </div>

    

    

  </body>
</html>